<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Space Rock!</title>
</head>

<body>
  <h1 class="container">{{> date}}</h1>
  <!-- {{> help}} -->
  {{> date_selector}}
  {{> item_list}}
</body>

<template name="date">
  {{today}}
</template>

<template name="date_selector">
  <div class="row container date-time">
    <div class="col-sm-6">
      <input type="text" class="datepicker" id="datepicker" value="{{currentDate}}" readonly="true">
    </div>
    <div class="col-sm-6">
      <div class="input-group clockpicker clearfix" id="clockpicker">
        <span class="glyphicon glyphicon-time" id="resetTime"></span>
        <input type="text" class="form-control" value="{{currentTime}}" readonly="true">
      </div>
    </div>
  </div>
</template>

<template name="item_list">
  <div class="new-item row container">
    <div class="col-sm-3">
      <input type="text" name="name" id="name" placeholder="Food">
    </div>
    <div class="col-sm-3">
      <input type="number" name="cals" id="cals" placeholder="Calories">
    </div>
    <div class="col-sm-3">
      <input type="number" name="grams" id="grams" placeholder="Protein (g)">
    </div>
    <div class="col-sm-3">
      <button class="create">+</button>
    </div>
  </div>
  <ul class="container">
  {{> requirements}}
  {{#each items}}
    {{> item}}
  {{else}}
    <p>Eat some food!</p>
  {{/each}}
  </ul>
</template>

<template name="item">
  <li class="{{maybe_selected}} clearfix row">
    <span class="name col-sm-3 col-xs-12">{{name}}</span>
    <span class="cals col-sm-3 col-xs-12"><strong>{{cals}}</strong> calories</span>
    <span class="grams col-sm-3 col-xs-12"><strong>{{grams}}</strong> g protein</span>
    <span class="time col-sm-3 col-xs-12">{{time}}</span>
    <button class="clear">X</button>
  </li>
</template>


<template name="requirements">
  <li class="clearfix row totals">
    <span class="name col-sm-3 col-xs-12">Total</span>
    <span class="cals col-sm-3 col-xs-12" id="total_cals"><strong>{{total_cals}}</strong> / {{needed_cals}}</span>
    <span class="grams col-sm-3 col-xs-12" id="total_grams"><strong>{{total_grams}}</strong> / {{needed_grams}}</span>
    <span class="time col-sm-3 col-xs-12"></span>
  </li>
</template>

<template name="help">
	<button id="showHelp">?</button>
	<div class="modal-overlay visible">
		<div class="modal-message">
			<button id="hideHelp">X</button>
			<h1>Application Help</h1>
			<p>SpaceRock is a simple application for logging the number of calories and grams of protein you eat per day.</p>
			<p>Requirements are color coded:</p>
			<ul>
				<li class="red">Red - Requirement not yet fulfilled</li>
				<li class="yellow">Yellow - Minimum requirement met</li>
				<li class="green">Green - Requirement Fulfilled</li>
			</ul>
		</div>
	</div>
</template>
